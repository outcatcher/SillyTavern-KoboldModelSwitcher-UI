(()=>{"use strict";var e,t,n,o,i={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},66:(e,t,n)=>{n.d(t,{W8:()=>i,jx:()=>a,pW:()=>o});const o="KoboldModelSwitcher",i=" ",a=[256,512,1024,2048,3072,4096,6144,8192,10240,12288,14336,16384,20480,24576,28672,32768,40960,49152,57344,65536,81920,98304,114688,131072]},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},r=[],s=0;s<e.length;s++){var l=e[s],c=o.base?l[0]+o.base:l[0],d=a[c]||0,u="".concat(c," ").concat(d);a[c]=d+1;var m=n(u),v={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)t[m].references++,t[m].updater(v);else{var p=i(v,o);o.byIndex=s,t.splice(s,0,{identifier:u,updater:p,references:1})}r.push(u)}return r}function i(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=o(e=e||[],i=i||{});return function(e){e=e||[];for(var r=0;r<a.length;r++){var s=n(a[r]);t[s].references--}for(var l=o(e,i),c=0;c<a.length;c++){var d=n(a[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=l}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},156:(e,t,n)=>{n.a(e,(async(e,t)=>{try{n(511);var o=n(931),i=n(66),a=n(368),r=n(761),s=function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((o=o.apply(e,t||[])).next())}))};await function(){return s(this,void 0,void 0,(function*(){globalThis.console.debug(`[${i.pW}]`,"Initializing extension"),yield(0,a.Bf)(),yield(0,r.b)(),(0,o.t)(),globalThis.console.debug(`[${i.pW}]`,"Extension initialized")}))}(),t()}catch(e){t(e)}}),1)},208:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(601),i=n.n(o),a=n(314),r=n.n(a)()(i());r.push([e.id,".loader {\n    border-top: 16px solid #3498db; /* Blue */\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n.okText {\n    color: var(--customThemeColor);\n}\n",""]);const s=r},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);o&&r[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},368:(e,t,n)=>{n.d(t,{Bf:()=>l,E7:()=>d,Mn:()=>u,cy:()=>c,kE:()=>m});var o=function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((o=o.apply(e,t||[])).next())}))};const i="/api/plugins/kobold-switcher/model";class a extends Error{}let r="";const s=()=>({"X-CSRF-Token":r,"Content-Type":"application/json"}),l=()=>o(void 0,void 0,void 0,(function*(){yield fetch("/csrf-token").then((e=>e.ok?e.json():Promise.reject(new Error(`requiest unsuccessfull, received code ${e.status.toString()} (${e.statusText})`)))).then((e=>{({token:r}=e)}))})),c=()=>o(void 0,void 0,void 0,(function*(){return yield fetch("/api/plugins/kobold-switcher/models").then((e=>e.ok?e.json():Promise.reject(new Error(`requiest unsuccessfull, received code ${e.status.toString()} (${e.statusText})`)))).then((e=>e.models))})),d=()=>o(void 0,void 0,void 0,(function*(){return yield fetch(i).then((e=>e.ok?e.json():Promise.reject(new a(`got unexpected status code ${e.status.toString()}`))))})),u=e=>o(void 0,void 0,void 0,(function*(){yield fetch(i,{method:"PUT",headers:s(),body:JSON.stringify({model:e.model,contextSize:e.contextSize,gpuLayers:e.gpuLayers,threads:e.threads,tensorSplit:e.tensorSplit})}).then((e=>{if(!e.ok)throw new a(`got unexpected status code ${e.status.toString()}`)}))})),m=()=>o(void 0,void 0,void 0,(function*(){yield fetch(i,{method:"DELETE",headers:s()}).then((e=>{if(!e.ok)throw new a(`got unexpected status code ${e.status.toString()}`)}))}))},408:(e,t,n)=>{n.d(t,{a:()=>f,U:()=>c});var o=n(66),i=n(368),a=function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((o=o.apply(e,t||[])).next())}))};class r extends Error{constructor(e){super(`Timeout reached after ${e.toString()}ms`)}}const s=(e,t,n)=>a(void 0,void 0,void 0,(function*(){const o=()=>a(void 0,void 0,void 0,(function*(){var t;(yield e())||(yield(t=n,a(void 0,void 0,void 0,(function*(){return new Promise((e=>{setTimeout(e,t)}))}))),yield o())}));var i;yield Promise.race([o(),(i=t,a(void 0,void 0,void 0,(function*(){return new Promise(((e,t)=>{setTimeout(t,i)})).catch((()=>new r(i)))})))])}));var l=function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((o=o.apply(e,t||[])).next())}))};const c=e=>l(void 0,void 0,void 0,(function*(){const t="online"===e?{timout:12e4,retry:2e3,waitMsg:"Starting KoboldCpp..."}:{timout:1e4,retry:200,waitMsg:"Stopping KoboldCpp currently running model"},n=toastr.info(t.waitMsg,void 0,{timeOut:t.timout});let o=yield(0,i.E7)();const a="online"===e;return yield s((()=>l(void 0,void 0,void 0,(function*(){return o=yield(0,i.E7)(),[e,"failed"].includes(o.status)}))),t.timout,t.retry).then((()=>{var t;return o.status===e?toastr.success("Don't forget to update settings","Model successfully "+(a?"started":"stopped")):toastr.error(`Error ${null!==(t=o.error)&&void 0!==t?t:"unknown"}`,"Model failed to "+(a?"start":"stop")),o})).catch((()=>(toastr.error("Error",`Failed to wait for model status ${e} after ${(t.timout/1e3).toString()} seconds`),o))).finally((()=>{n.remove()}))})),d=["redOverlayGlow","okText","comment"],u=["loader"],m=["fa-play","active"],v=["fa-stop","redOverlayGlow"],p=e=>{const t={switcher:document.getElementById("kss-run-template-start"),status:document.getElementById("kss-current-status")};t.switcher.classList.remove(...v,...m,...u),t.switcher.classList.add(...e.switcherClasses),t.switcher.onclick=e.clickAction,t.status.classList.remove(...d),t.status.classList.add(...e.statusClasses),t.status.innerHTML=`<h5>${e.text}</h5>`},f=e=>{switch(globalThis.console.info(`[${o.pW}]`,`Updating model info for status ${e.status}`),globalThis.console.info(`[${o.pW}]`,`Click handler is ${globalThis.statusSwitchAction.toString()}`),e.status){case"failed":case"offline":p({switcherClasses:m,statusClasses:["redOverlayGlow"],text:"All models are offline",clickAction:globalThis.statusSwitchAction});break;case"online":p({switcherClasses:v,statusClasses:["okText"],text:e.model,clickAction:globalThis.statusSwitchAction});break;case"loading":p({switcherClasses:u,statusClasses:["comment"],text:`Loading model ${e.model}...`,clickAction:null});break;case"stopping":p({switcherClasses:u,statusClasses:["comment"],text:`Stopping model ${e.model}...`,clickAction:null});break;default:p({switcherClasses:m,statusClasses:["redOverlayGlow"],text:"Unknown model status",clickAction:globalThis.statusSwitchAction})}return`Model ${e.model} in status ${e.status}`}},451:(e,t,n)=>{n.d(t,{Fi:()=>a,SI:()=>l,mt:()=>s});var o=n(66);const{saveSettingsDebounced:i}=SillyTavern.getContext(),a=Object.freeze({name:"",model:""}),r=Object.freeze({runTemplates:[]}),s=()=>{const e=SillyTavern.getContext().extensionSettings;return e[o.pW]||(e[o.pW]=structuredClone(r)),e[o.pW]},l=()=>{i()}},511:(e,t,n)=>{var o=n(72),i=n.n(o),a=n(825),r=n.n(a),s=n(659),l=n.n(s),c=n(56),d=n.n(c),u=n(540),m=n.n(u),v=n(113),p=n.n(v),f=n(208),h={};h.styleTagTransform=p(),h.setAttributes=d(),h.insert=l().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=m();i()(f.A,h),f.A&&f.A.locals&&f.A.locals},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},761:(e,t,n)=>{n.d(t,{b:()=>g});var o=n(66);const i=(e,t)=>{var n,o;const i=document.createElement("option");return i.value=e,i.innerText=null!==(n=null==t?void 0:t.text)&&void 0!==n?n:e,i.selected=null!==(o=null==t?void 0:t.selected)&&void 0!==o&&o,i};var a=n(408),r=n(368);var s=n(451);var l=function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((o=o.apply(e,t||[])).next())}))};const{Popup:c,POPUP_TYPE:d}=SillyTavern.getContext(),u=()=>{var e;const t=(0,s.mt)(),n=document.getElementById("run-templates");n.innerHTML="",t.runTemplates.forEach((e=>{n.options.add(i(e.name))})),n.value=null!==(e=t.selectedRunTemplate)&&void 0!==e?e:""},m=e=>l(void 0,void 0,void 0,(function*(){globalThis.console.info(`[${o.pW}]`,"Create popup created");const t=(0,s.mt)(),n=void 0===e?Object.assign({},s.Fi):Object.assign(Object.assign({},e),{name:`${e.name} (copy)`}),i=new c("New run template name (UNIQUE)",d.INPUT,n.name,{okButton:"Create",cancelButton:"Cancel",wide:!0,onClosing:e=>(e=>{const t=!(0,s.mt)().runTemplates.find((t=>t.name===e));return t||toastr.error("Template name already exists"),t})(e.value)}),a=yield i.show();a&&"string"==typeof a&&(n.name=a,t.runTemplates.push(n),t.selectedRunTemplate=a,(0,s.SI)()),u()})),v=()=>l(void 0,void 0,void 0,(function*(){const e=(0,s.mt)(),t=e.runTemplates.find((t=>t.name===e.selectedRunTemplate));yield m(t)})),p=()=>l(void 0,void 0,void 0,(function*(){yield m()})),f=()=>l(void 0,void 0,void 0,(function*(){const e=document.getElementById("run-templates").value,t=(0,s.mt)().runTemplates.find((t=>t.name===e));if(void 0===t)return void globalThis.console.error(`[${o.pW}]`,`run template not found by name ${e}`);const n=yield(a=t,l(void 0,void 0,void 0,(function*(){var e,t,n,l,u,m,v,p,f;const h=new c('<div id="kobold-model-edit-template"> <div> <label for="model">Model Name</label> <select id="model" class="text_pole flex1"> </select> </div> <div> <label for="context-size">Context Size</label> <input class="neo-range-slider" type="range" id="context-size-slider" name="volume" min="256" max="262144" step="256" list="context-size-markers"/> <datalist id="context-size-markers"> </datalist> <input type="number" id="context-size" class="text_pole" min="256" step="256" max="262144" data-for="context-size-slider"/> </div> <div> <label for="gpu-layers">GPU Layers</label> <input type="number" id="gpu-layers" class="text_pole"/> </div> <div> <label for="threads">Threads</label> <input type="number" id="threads" class="text_pole" min="-1"/> </div> <div> <label for="tensor-split">Tensor split (space-separated list of floats)</label> <input type="text" id="tensor-split" class="text_pole"/> </div> </div> ',d.TEXT,"",{okButton:"Save",cancelButton:"Cancel",wide:!0,large:!0}).show(),y={modelSelect:document.getElementById("model"),contextSize:document.getElementById("context-size"),contextSizeSlider:document.getElementById("context-size-slider"),contextSizeMarkers:document.getElementById("context-size-markers"),gpuLayers:document.getElementById("gpu-layers"),threads:document.getElementById("threads"),tensorSplit:document.getElementById("tensor-split")},g=void 0===a?Object.assign({},s.Fi):Object.assign({},a);return(yield(0,r.cy)()).forEach((e=>{y.modelSelect.appendChild(i(e,{selected:e===g.model}))})),y.modelSelect.value=null!==(e=g.model)&&void 0!==e?e:"",y.modelSelect.onchange=()=>{g.model=y.modelSelect.value},y.contextSize.value=null!==(n=null===(t=g.contextSize)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",y.contextSize.onchange=()=>{g.contextSize=parseInt(y.contextSize.value,10),y.contextSizeSlider.value!==y.contextSize.value&&(y.contextSizeSlider.value=y.contextSize.value)},o.jx.forEach((e=>{y.contextSizeMarkers.appendChild(i(e.toString()))})),y.contextSizeSlider.value=y.contextSize.value,y.contextSizeSlider.onchange=()=>{g.contextSize=parseInt(y.contextSizeSlider.value,10),y.contextSizeSlider.value!==y.contextSize.value&&(y.contextSize.value=y.contextSizeSlider.value)},y.gpuLayers.value=null!==(u=null===(l=g.gpuLayers)||void 0===l?void 0:l.toString())&&void 0!==u?u:"",y.gpuLayers.onchange=()=>{g.gpuLayers=parseInt(y.gpuLayers.value,10)},y.threads.value=null!==(v=null===(m=g.threads)||void 0===m?void 0:m.toString())&&void 0!==v?v:"",y.threads.onchange=()=>{g.threads=parseInt(y.threads.value,10)},y.tensorSplit.value=null!==(f=null===(p=g.tensorSplit)||void 0===p?void 0:p.join(o.W8))&&void 0!==f?f:"",y.tensorSplit.onchange=()=>{g.tensorSplit=y.tensorSplit.value.split(o.W8).map((e=>parseInt(e,10)))},yield h.then((e=>e?g:a))})));var a;const m=(0,s.mt)().runTemplates.findIndex((t=>t.name===e));(0,s.mt)().runTemplates[m]=n,(0,s.SI)(),u()})),h=()=>l(void 0,void 0,void 0,(function*(){var e,t;const n=(0,s.mt)(),o=document.getElementById("run-templates"),i=new c(`Delete run template '${null!==(e=n.selectedRunTemplate)&&void 0!==e?e:""}'?`,d.CONFIRM,"",{okButton:"Delete",cancelButton:"Cancel",wide:!0});(yield i.show())&&(n.runTemplates=n.runTemplates.filter((e=>e.name!==o.value)),n.selectedRunTemplate=null===(t=n.runTemplates.at(0))||void 0===t?void 0:t.name,(0,s.SI)(),u())})),y=e=>{(0,s.mt)().selectedRunTemplate=e.target.value,(0,s.SI)()};globalThis.statusSwitchAction=()=>l(void 0,void 0,void 0,(function*(){const e=(0,s.mt)().selectedRunTemplate;if(void 0===e)return;const t=(0,s.mt)().runTemplates.find((t=>t.name===e));if(void 0===t)throw new Error(`can't find model ${e}`);const n=yield(0,r.E7)();switch(n.status){case"failed":case"offline":(0,a.a)({status:"loading",model:t.model}),(0,r.Mn)(t).then((()=>(0,a.U)("online"))).then((e=>(0,a.a)(e))).catch((e=>{toastr.error(e.message)}));break;case"online":(0,a.a)({status:"stopping",model:n.model}),(0,r.kE)().then((()=>(0,a.U)("offline"))).then((e=>(0,a.a)(e))).catch((e=>{toastr.error(e.message)}));break;default:toastr.error(`Model ${n.model} currently in NOOP state '${n.status}'`)}}));const g=()=>l(void 0,void 0,void 0,(function*(){var e;const t=null!==(e=document.getElementById("kobold-switcher-container"))&&void 0!==e?e:document.getElementById("extensions_settings2");if(!t)return;const n=document.createElement("template");n.innerHTML='<div id="kobold-switcher-settings"> <div class="inline-drawer"> <div class="inline-drawer-toggle inline-drawer-header"> <b> <span>KoboldCpp Switcher</span> </b> <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div> </div> <div class="inline-drawer-content"> <label for="run-templates">Run template</label> <div class="flex-container flexnowrap"> <select id="run-templates" class="text_pole flex1"> </select> <div id="kss-run-template-start" class="menu_button fa-solid fa-play active interactable"></div> <div id="kss-run-template-edit" class="menu_button menu_button_icon interactable"> <i class="fa-solid fa-pen-to-square"></i> </div> <div id="kss-run-template-clone" class="menu_button menu_button_icon interactable"> <i class="fa-solid fa-clone"></i> </div> <div id="kss-run-template-create" class="menu_button menu_button_icon interactable"> <i class="fa-solid fa-plus"></i> </div> <div id="kss-run-template-delete" class="menu_button menu_button_icon interactable"> <i class="fa-solid fa-trash-can"></i> </div> </div> <label for="kss-current-status">Currently running model</label> <div class="flex-container flexnowrap"> <div id="kss-current-status" class="flex-container flexnowrap redOverlayGlow"> <h5>All models are offline</h5> </div> </div> </div> </div> </div> ',t.appendChild(n.content);const o={templatesSelect:document.getElementById("run-templates"),create:document.getElementById("kss-run-template-create"),clone:document.getElementById("kss-run-template-clone"),edit:document.getElementById("kss-run-template-edit"),delete:document.getElementById("kss-run-template-delete")};o.templatesSelect.onchange=y,o.create.onclick=p,o.clone.onclick=v,o.edit.onclick=f,o.delete.onclick=h,(0,a.a)(yield(0,r.E7)()),(0,s.SI)(),u()}))},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,i&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},931:(e,t,n)=>{n.d(t,{t:()=>v});class o{value;description;type="enum";typeIcon="◊";matchProvider;valueProvider;makeSelectable=!1;constructor(e,t=null,n="enum",o="◊",i=null,a=null,r=!1){this.value=e,this.description=t,this.type=n??"enum",this.typeIcon=o,this.matchProvider=i,this.valueProvider=a,this.makeSelectable=r}toString(){return this.value}}var i=n(408),a=n(368),r=n(451),s=function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((o=o.apply(e,t||[])).next())}))};const{SlashCommandParser:l,SlashCommandNamedArgument:c,SlashCommand:d,ARGUMENT_TYPE:u}=SillyTavern.getContext(),m=e=>s(void 0,void 0,void 0,(function*(){const{name:t}=e,n=(0,r.mt)().runTemplates.find((e=>e.name===t));if(void 0===n){const e=`Can't find model ${t}`;return toastr.error(e),e}(0,i.a)({model:n.model,status:"loading"});return"online"===(yield(0,a.E7)()).status&&(yield(0,a.kE)().then((()=>(0,i.U)("offline"))).catch()),yield(0,a.Mn)(n).then((()=>(0,i.U)("online"))).then((e=>(0,i.a)(e))).catch((e=>{const n=`Failed to start model ${t}: ${e.message}`;return toastr.error(n),n}))})),v=()=>{const e=d.fromProps({name:"kobold-start",callback:m,namedArgumentList:[c.fromProps({name:"name",description:"name of template to start",typeList:[u.STRING],isRequired:!0,enumProvider:()=>(0,r.mt)().runTemplates.map((e=>new o(e.name,e.model))),forceEnum:!0})],helpString:"Starts KoboldCpp with configuration from selected template"});l.addCommandObject(e)}}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,exports:{}};return i[e](n,n.exports,r),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},r.a=(i,a,r)=>{var s;r&&((s=[]).d=-1);var l,c,d,u=new Set,m=i.exports,v=new Promise(((e,t)=>{d=t,c=e}));v[t]=m,v[e]=e=>(s&&e(s),u.forEach(e),v.catch((e=>{}))),i.exports=v,a((i=>{var a;l=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[e])return i;if(i.then){var a=[];a.d=0,i.then((e=>{r[t]=e,o(a)}),(e=>{r[n]=e,o(a)}));var r={};return r[e]=e=>e(a),r}}var s={};return s[e]=e=>{},s[t]=i,s})))(i);var r=()=>l.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(a=()=>t(r)).r=0;var n=e=>e!==s&&!u.has(e)&&(u.add(e),e&&!e.d&&(a.r++,e.push(a)));l.map((t=>t[e](n)))}));return a.r?c:r()}),(e=>(e?d(v[n]=e):c(m),o(s)))),s&&s.d<0&&(s.d=0)},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0;var s=r(156),l=exports,c=s.default;for(var d in c)l[d]=c[d];c.__esModule&&Object.defineProperty(l,"__esModule",{value:!0})})();